-----------------------------------------------------------------------------------------
【更新履歴】
  2022/10/23:新規作成
  
-----------------------------------------------------------------------------------------
【導入方法】
「OT_EnemyAI」フォルダをPluginフォルダの中に入れてください。

-----------------------------------------------------------------------------------------
【概要】
敵の行動について、通常はシミュレートによって出たスコアの中から一番高いものから選択されますが、
シミュレートで出たスコアが高い行動を複数ピックアップして、その中からランダムで選択するようにします。

SRPG Studioの敵のアルゴリズムは攻撃対象が二人以上いる場合は与ダメが大きい(それか撃破可能な)相手だけを狙い、
攻撃される対象が狙われない場所に移動しない限りは他に攻撃可能な対象が幾ら居てもそちらに攻撃する事は絶対ありません。
また、状態異常付与武器は封印系のような余程強力なものでないと
基本的には攻撃時の与ダメが大きい武器の使用を優先してしまいます。
例えば威力が4の武器と威力が1で毒を与える武器の両方を敵が持ってた場合、
毒の効果が余程強力でない限りは毒持ちの武器を使う事はありません。

このプラグインを導入すると攻撃対象が二人以上いる場合は与ダメが大きい相手を必ず狙う事が無くなり、
威力の高い武器を使いつつ時折状態異常付与の武器で攻撃する事が可能になります。

このプラグインは1つのユニットに二種類以上の攻撃方法(低威力だけど厄介な異常付与持ち、異常付与持ちは無いけど高威力)を持たせたい場合、
ゲーム後半で敵に予測外の動きをさせる事で緊張感を持たせたい場合に有効です。

※AIを変更するプラグインとの競合には注意してください。

-----------------------------------------------------------------------------------------
【使用方法】
全体のAIを調整したい場合はOT_RandomAI.jsのiRandomActionTypeとiRandomMoveType、
iActionPickUpとiMovePickUpの値を調整してください。
特定のユニットやクラスの行動をランダム化したい場合はカスタムパラメータを設定してください。

-----------------------------------------------------------------------------------------
【カスパラ設定方法】

・ユニット
{
    OT_RandomAI : { ActionType:1, MoveType:1, ActionPickUp:10, MovePickUp:999 }
}
	ActionType   : 行動選択のパターン(整数を指定：0〜3)
	MoveType     : 行動時の移動先のパターン(整数を指定：0〜6)
	ActionPickUp : ランダム行動する時のピックアップする行動数(整数を指定：0〜)
	MovePickUp   : 行動時のランダム化でピックアップする移動先の数(整数を指定：0〜)

・クラス
{
    OT_RandomAI : { ActionType:1, MoveType:1, ActionPickUp:10, MovePickUp:999 }
}
	ActionType   : 行動選択のパターン(0〜3)
	MoveType     : 行動時の移動先のパターン(0〜6)
	ActionPickUp : ランダム行動する時のピックアップする行動数(0〜)
	MovePickUp   : 行動時のランダム化でピックアップする移動先の数(0〜)

■ActionTypeの設定値による行動パターン
1以上を設定すると行動が最適であるかのスコアが上位にある行動をActionPickUpの数だけピックアップし
その中からランダムに行動するようになります

0:行動ランダム化無し(プラグイン未導入と同じ挙動)
1:スコアが高い行動ほど選択される確率が高くなる
2:スコアが低い行動ほど選択される確率が高くなる
3:スコアの高低による確率変動無し

■MoveTypeの設定値による行動パターン
1以上を設定すると移動先が最適であるかのスコアが上位にある行動をMovePickUpの数だけピックアップし
その中からランダムに行動するようになります

0:移動先ランダムなし(プラグイン未導入と同じ挙動)
1:最適な場所が複数ある場合のみ移動先をランダムで選ぶ
2:大抵は最適な場所に移動するが最適でない場所にもランダムで移動する(攻撃時に地形効果が得られない場所に移動したり、反撃を食らう位置で攻撃する事がある)
3:地形効果や反撃有無を考慮せずにランダムに移動先を決定
4:最適でない場所に高確率で移動するようになる(アホAI化、山賊等に最適)
5:最も最適でない場所に最優先で移動する(舐めプ系AI)
6:最も最適でない場所に最優先で移動。最も最適でない場所が複数ある場合は移動先をランダムで選ぶ

ユニットとクラス両方にカスパラが設定されてる場合はユニットの設定が優先されます。
設定されてないカスパラ項目はOT_RandomAI.jsの値が使用されます。
例えばクラスにActionTypeとMoveTypeを設定、
ユニットにActionTypeとActionPickUpを設定した場合はActionTypeはユニットの設定が優先され、
MovePickUpはユニットとクラス両方に設定されてないのでOT_RandomAI.jsの設定が使用されます。

-----------------------------------------------------------------------------------------
【ゲーム中にユニットのAI設定を変更する】

「スクリプトの実行」の「コードの実行」から
ゲーム中にユニットのAI設定のカスタムパラメータを変更できます。

◆AIを設定する

「オリジナルデータ」タブの「ユニット」でAIを変更したいユニットを選択した後、
イベントコマンドの「スクリプトの実行」で「コードの実行」にチェックしテキスト領域に

OT_RandomAI_SetUnitAI(
  { ActionType:1, MoveType:1, ActionPickUp:10, MovePickUp:999 }
);

のように記述します。

{}の中の記述は設定したい項目を指定するようにしてください。
例えばユニットのActionTypeとMoveTypeだけを変えたい場合は

OT_RandomAI_SetUnitAI(
  { ActionType:1, MoveType:2 }
);

のように記述します。

◆AIの設定をクリアする

ユニットのAI設定を削除したい場合は[項目名]:-1と設定してください。
例えばユニットのActionTypeとActionPickUpの設定を削除したい場合は

OT_RandomAI_SetUnitAI(
  { ActionType:-1, ActionPickUp:-1 }
);

のように記述します。
設定の削除後のAIはクラスに設定値があればクラスの設定値に準じた行動を、
クラスに設定値がなければOT_RandomAI.jsで設定された値に準じた行動をするようになります。

